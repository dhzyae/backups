<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>分类</title>
  <!-- 引入vue.js核心库 -->
  <script src="../js/vue.js"></script>
  <!-- 导入axios函数 -->
  <script src="../js/axios.js"></script>
  <link rel="stylesheet" href="../css/common.css" />
  <link rel="stylesheet" href="../css/reset.css" />
  <link rel="stylesheet" href="../css/list.css" />
  <link rel="stylesheet" href="../css/swiper.css">
  <link rel="stylesheet" href="../css/base.css">
  <link rel="stylesheet" href="../css/index.css">
  <link rel="stylesheet" href="http://at.alicdn.com/t/font_3007983_j8moebtrhrm.css">
  
</head>

<body>
  <div id="app">
    <!-- qikoo-top-box -->
    <div id="top-box">
      <div class="container">

        <div class="top-user fr">
          <a href="./login.html" v-if="user == false" class="fl login-btn">登录</a>
          <a href="#" v-if="user == true" class="fl login-btn">{{userName}}</a>
          <a href="./register.html" class="fl register-btn">注册</a>
          <a href="javascript:;" class="username fl"></a>
          <div class="fl icon-box">
            <a href="./shop.html" class="shopping-btn">
              <i class="icon"></i>
            </a>
          </div>

        </div>
      </div>
    </div>
    <!-- qikoo-top-padding -->
    <div class="qikoo-top-padding" style="display: block; height: 130px"></div>
    <!-- qikoo-header -->
    <div class="qikoo-header">
      <div class="header-wrapper">
        <div class="header-box">
          <div class="header-nav-search clearfix">
            <a class="logo" href="/" data-monitor="home_Header_logo" data-monitor-resource="">
              <i class="index-icon icon-logo"></i>
            </a>
          </div>
        </div>
      </div>
    </div>
    <!-- body-main -->
    <div class="body-main">
      <div class="product-list">
        <div class="search-box">
          <div class="search-nav">
            <span class="default_path">
              <a href="/" data-monitor="search_crumb_home">首页</a>
            </span>
            <div class="breadcrumbs_box">
              <span class="sw_box"> </span>
              <span class="tag_box"></span>
            </div>
            <span class="qwords">全部</span>
          </div>
        </div>
        <div class="filter-box" style="display: block">
          <div class="filter js-cates">
            <div class="hint">分类:</div>
            <div class="option_box unspread">
              <a class="" title="0-100" data-monitor="search_category_click101742" @click="change(0,100)">0-100</a>
              <a class="" title="100-200" data-monitor="search_category_click102228"
                @click="change(100,200)">100-200</a>
              <a class="" title="200-300" data-monitor="search_category_click102228"
                @click="change(200,300)">200-300</a>
              <a class="" title="300-400" data-monitor="search_category_click102537"
                @click="change(300,400)">300-400</a>
              <a class="" title="400-1000" data-monitor="search_category_click102660"
                @click="change(400,1000)">400-1000</a>
            </div>
          </div>
          <div class="filter js-options clearfix">
            <div class="hint">品牌:</div>
            <div class="option_box unspread">
              <a title="360">360</a>
            </div>
          </div>
          <div class="filter js-sort last">
            <span class="hint">排序: </span>
            <a class="active cur" data-sort="active">默认</a>
            <a class="price_sort" data-sort="price_sort">价格
              <span></span>
            </a>
          </div>
        </div>
        <div class="list-box">
          <div class="listwrap">
            <div class="list-container" data-monitor="search_goods_click">
              <ul class="list">
                <li class="list-item" v-for="ar in arraylist">
                  <dl class="desc">
                    <dt class="pic">
                      <a target="_blank" :href="'../html/item.html?pid='+ar.pid" data-monitor="search_list_item">
                        <img class="lazy" data-size="180_180_" :src="ar.pimgsrc"
                          data-original="https://p3.ssl.qhimg.com/t01a1b05a4db639487e.png" alt="360 运动蓝牙耳机SNE1 黑色"
                          style="display: block" />
                      </a>
                    </dt>
                    <dd class="cont">
                      <a target="_blank" href="/shop/item?item_id=5dfb7c871e533510faaa520d"
                        data-monitor="search_list_item">
                        <span class="title" title="360 运动蓝牙耳机SNE1 黑色">
                          {{ar.pname}}
                        </span>
                        <span class="price">
                          <span>￥</span>{{ar.price}}
                        </span>
                      </a>
                    </dd>
                    <dd class="addbtns">
                      <a href="javascript:;" class="add-cart" data-id="5dfb7c871e533510faaa520d">加入购物车</a>
                    </dd>
                  </dl>
                  <div class="addSuccess">成功添加至购物车</div>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- mod-right-side -->
    <div class="mod-right-side">
      <div class="right-middle-box">
        <a href="javascript:;" class="right-item js_coupon" style="display: none" data-monitor="public_right_coupon">
          <i class="index-icon icon-coupon"></i>
          <div class="right-hover-box">
            <span class="item-title">优惠券</span>
          </div>
        </a>
        <a href="/feedback" class="right-item" data-monitor="public_right_feedback">
          <i class="index-icon icon-word"></i>
          <div class="right-hover-box">
            <span class="item-title">意见反馈</span>
          </div>
        </a>
        <a href="javascript:;" class="right-item item-wx js_wx_mp" data-monitor="public_right_weixin">
          <i class="index-icon icon-weixin"></i>
          <div class="right-hover-box wx_mp">
            <div class="wx-qrcode">
              <img src="https://p.ssl.qhimg.com/t0168294b49a2468fa5.png" />
            </div>
            <span class="item-title">关注公众号</span>
          </div>
        </a>
      </div>
      <div class="right-bottom-box">
        <a href="javascript:;" class="right-item js_fixed_down" data-monitor="home_suspend_btn">
          <i class="index-icon icon-qrcode"></i>
        </a>
        <a href="javascript:;" class="right-item js_go_top" data-monitor="public_right_top">
          <i class="index-icon icon-back-top"></i>
          <div class="right-hover-box">
            <span class="item-title">返回顶部</span>
          </div>
        </a>
      </div>
      <div class="right-coupon-box">
        <div class="top-bar-placeholder"></div>
        <div class="right-coupon-box-title">
          <div class="icon i-close js_coupon_close"></div>
        </div>
        <div class="right-coupon-box-content jsBoxCoupon">
          <div class="right-coupon-box-loading">加载中...</div>
        </div>
      </div>
    </div>
    <!-- mod-footer -->
    <div class="mod-footer">
      <div class="helper-floor">
        <div class="footer-box mod-helper clearfix">
          <div class="helper-box about-box">
            <p class="helper-title">关于商城</p>
            <p class="helper-text">
              360商城是奇虎360公司的官方电商平台，主要经营360安全智能设备，以及相关领域消费品。提供最新的360智能设备，最贴心的售后服务，360社区一手评测资讯，享受360安全、安心、放心的购物体验。
            </p>
            
          </div>
          <div class="helper-box lnk-box">
            <p class="helper-title">售后服务</p>
            <a href="#" class="helper-text">7日无理由退货 </a>
          </div>
          <div class="helper-box lnk-box">
            <p class="helper-title">帮助中心</p>
            <a href="./register.html" class="helper-text">用户注册 </a>
          </div>
          <div class="helper-box contact-box">
            <p class="helper-title">联系我们</p>
            <p class="help-text big-text">400-1555-360</p>
            <p class="help-text small-text">
              周一至周日 9:00-21:00（仅收市话费）
            </p>
          </div>
        </div>
      </div>
      <div class="copyright-floor">
        <div class="footer-box">
          <div class="service-policy-list">
            <a href="#" class="policy-item">
              <i class="index-icon icon-policy-return"></i> 7天无理由退货
            </a>
            <a href="#" class="policy-item">
              <i class="index-icon icon-policy-exchange"></i> 15天免费换货
            </a>
            <a href="#" class="policy-item">
              <i class="index-icon icon-policy-package"></i> 满99元包邮
            </a>
          </div>
          <div class="copyright-line">
            <p>©2019-2020 mall.360.cn版权所有</p>
            <p>
              京ICP备08010314号-43
              <a href="#" target="_blank"> 营业执照 </a>
              京公网安备11000002000006号
            </p>
            <p style="color: rgba(255, 255, 255, 0.5); font-size: 12px">
              公司名称：北京视觉世界科技有限公司 |
              社会统一信用代码：91110105336460203N
              <a style="color: rgba(255, 255, 255, 0.5)" href="/help/shipinjingyingxuke" target="_blank">食品经营许可证</a>
              <br />
              公司地址：北京市朝阳区酒仙桥路6号院2号楼1至17层102号内5层501 |
              联系方式：400-1555-360
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script>
    var vm = new Vue({
      el: "#app",
      mounted () {
        var fid = window.location.search.split("=")[1];
        this.fid = fid;
        console.log(fid);
        axios
          .get("json/classfy.json")
          .then((listData) => {
            this.array = listData.data;
            for (var i = 0; i < this.array.length; i++) {
              if (fid == this.array[i].fid) {
                this.array1 = this.array[i].products.concat();
                this.arraylist = this.array[i].products;
              }
            }
          });

      },
      data: {
        array: [],
        array1: [],
        arraylist: [],
        fid: "",
        low: "",
        high: "",
        user: false,
        userName: "",
      },
      methods: {
        change (low, high) {
          this.low = low;
          this.high = high;
          this.arraylist.splice(
            0,
            this.arraylist.length,
            ...this.array1.filter(
              (e) => this.low < e.price && e.price < this.high
            )
          );
          console.log(this.arraylist, this.array1);
        }, getUser () {
          var user = eval(localStorage.user)
          user.forEach(item => {
            if (item.msg) {
              this.userName = item.username
              this.user = true
            }
          });
        },
      },
    });
  </script>
</body>

</html>